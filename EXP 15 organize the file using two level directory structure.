#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/stat.h>   // for mkdir
#include <sys/types.h>  // for mkdir

int main() {
    char mainDirectory[] = "C:/Users/itssk/OneDrive/Desktop";
    char subDirectory[] = "os";
    char fileName[] = "example.txt";
    char filePath[300];
    char mainDirPath[300];

    // Build the subdirectory path
    snprintf(mainDirPath, sizeof(mainDirPath), "%s/%s", mainDirectory, subDirectory);

    // Try to create the directory (Windows: mkdir works via sys/stat.h)
    #ifdef _WIN32
        _mkdir(mainDirPath);   // Windows-specific
    #else
        mkdir(mainDirPath, 0777); // Linux/Mac
    #endif

    // Build full file path
    snprintf(filePath, sizeof(filePath), "%s/%s", mainDirPath, fileName);

    // Create file
    FILE *file = fopen(filePath, "w");
    if (file == NULL) {
        printf("Error creating file.\n");
        return 1;
    }

    // Write content
    fprintf(file, "This is an example file content.");
    fclose(file);

    printf("File created successfully: %s\n", filePath);

    return 0;
}
